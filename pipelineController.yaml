repositoryTasks:
  pr:
    change:
      - changedFilesRegex: '.*'
        script:
          - taskName: black_check
            definition: jenkins/black_check.groovy
            phase: 0
          - taskName: build_drum
            definition: jenkins/build_drum.groovy
            phase: 1
          - taskName: test_integration_all_in_one
            definition: jenkins/run_integration_tests_in_a_single_container.groovy
            environment:
              PIPELINE_CONTROLLER: 1
            phase: 2
          - taskName: test_inference_model_templates
            definition: jenkins/test_inference_model_templates.groovy
            environment:
              PIPELINE_CONTROLLER: 1
            phase: 2
          - taskName: test_training_model_templates
            definition: jenkins/test_training_model_templates.groovy
            environment:
              PIPELINE_CONTROLLER: 1
            phase: 2
          - taskName: test_drop_in_envs
            definition: jenkins/test_drop_in_envs.groovy
            environment:
              PIPELINE_CONTROLLER: 1
            phase: 2
