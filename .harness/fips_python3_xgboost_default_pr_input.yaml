inputSet:
  name: fips_python3_xgboost_default_pr_input
  tags: {}
  identifier: fips_python3_xgboost_default_pr_input
  orgIdentifier: Custom_Models
  projectIdentifier: datarobotusermodels
  pipeline:
    identifier: test_functional_by_framework
    properties:
      ci:
        codebase:
          build:
            type: <+trigger.type>  # This dynamically changes based on the trigger type
            spec:
              number: <+trigger.prNumber>  # If it's a PR trigger, this uses the PR number
              branch: <+trigger.branch>    # If it's a branch trigger, this uses the branch name
    stages:
      - stage:
          identifier: Build_image_because_of_change
          type: Pipeline
          spec:
            inputs:
              identifier: env_image_publish
              properties:
                ci:
                  codebase:
                    build:
                      type: <+trigger.type>  # This dynamically changes based on the trigger type
                      spec:
                        number: <+trigger.prNumber>  # If it's a PR trigger, this uses the PR number
                        branch: <+trigger.branch>    # If it's a branch trigger, this uses the branch name
              variables:
                - name: image_tag
                  type: String
                  value: <+pipeline.stages.check_env_changed.spec.execution.steps.check_diff.output.outputVariables.test_image_tag>
    variables:
      - name: framework
        type: String
        value: python3_xgboost
      - name: env_folder
        type: String
        value: public_fips_dropin_environments
