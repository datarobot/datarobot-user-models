template:
  name: functional_by_framework_input_set_template
  identifier: functional_by_framework_input_set_template
  versionLabel: v1
  type: InputSet
  orgIdentifier: Custom_Models
  projectIdentifier: datarobotusermodels
  spec:
    pipeline:
      identifier: test_functional_by_framework
      properties:
        ci:
          codebase:
            build:
              type: PR
              spec:
                number: <+trigger.prNumber>
      stages:
        - stage:
            identifier: Build_image_because_of_change
            type: Pipeline
            spec:
              inputs:
                identifier: env_image_publish
                properties:
                  ci:
                    codebase:
                      build:
                        type: PR
                        spec:
                          number: <+trigger.prNumber>
              variables:
                - name: image_tag
                  type: String
                  value: <+pipeline.stages.check_env_changed.spec.execution.steps.check_diff.output.outputVariables.test_image_tag>
